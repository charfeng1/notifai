# 模型基线对比总结

**测试日期:** 2026-01-07
**测试样本:** 100 个通知分类样本
**任务:** 4 类文件夹分类 + 5 级优先级分类

## 快速对比

| 模型 | 文件夹准确率 | 优先级准确率 | 幻觉率 | 显存 | 参数量 | 推荐 |
|------|------------|-------------|--------|------|--------|------|
| **Qwen3-0.6B** | **59.0%** ✓ | **17.0%** ✓ | **0%** ✓✓✓ | 1.19 GB | 600M | ✅ **推荐** |
| FunctionGemma-270M | 35.0% ✗ | 2.0% ✗ | ~20% ✗✗✗ | 0.54 GB | 270M | ❌ 不推荐 |

## 详细分析

### 001: Qwen3-0.6B 基线
📊 **结果:** 59% 文件夹准确率，0% 幻觉率

**优点:**
- ✓ 零幻觉 - 所有预测都在有效集合内
- ✓ 指令遵循能力强 - `/no_think` 有效禁用思考模式
- ✓ JSON 输出完美 - 0% 解析失败
- ✓ 更高准确率 - 59% vs 35%

**缺点:**
- ✗ 模型较大 - 1.19 GB 显存
- ✗ 准确率仍需提升至 80%+

**适用场景:**
- ✅ 生产环境部署（安全可靠）
- ✅ 需要高准确率的应用
- ✅ 有足够硬件资源（16GB 设备）

### 002: FunctionGemma-270M 基线
📊 **结果:** 35% 文件夹准确率，20% 幻觉率

**优点:**
- ✓ 模型小 - 仅 0.54 GB 显存
- ✓ 推理快 - 270M 参数

**缺点:**
- ✗ 准确率极低 - 35%（低于随机猜测的 50%）
- ✗ 严重幻觉问题 - 发明不存在的文件夹名称
- ✗ 忽略枚举约束 - enum 声明无效
- ✗ 优先级分类失败 - 仅 2% 准确率
- ✗ 生产环境不安全 - 会产生系统无法处理的值

**幻觉示例:**
- "Order Details" (应为 Alerts)
- "Home" (应为 Promotions)
- "Security Alerts" (应为 Alerts)
- "App Store" (应为 Promotions)

**适用场景:**
- ❌ 不推荐用于生产环境
- ⚠️ 仅适合研究或对比实验

## 关键发现

### 1. 幻觉问题至关重要
- **Qwen3-0.6B:** 0/100 样本幻觉 - 完全可靠
- **FunctionGemma-270M:** ~20% 错误包含幻觉 - 生产环境风险

### 2. 模型大小 vs 准确率权衡
- FunctionGemma 小 55%（0.54 GB vs 1.19 GB）
- 但准确率低 41%（35% vs 59%）
- **结论:** 大小节省不值得准确率损失

### 3. 指令遵循能力差异
- **Qwen3:** `/no_think` 有效，枚举约束有效
- **FunctionGemma:** 枚举约束无效，函数声明被忽略

## 推荐方案

### ✅ 短期方案（Phase 1）
**使用 Qwen3-0.6B:**
1. 基础准确率 59%（可接受）
2. 零幻觉（安全可靠）
3. 通过微调提升至 80%+

### ✅ 长期方案（Phase 2+）
**Qwen3-0.6B + GBNF 语法:**
1. 微调后准确率 80%+
2. GBNF 语法保证 100% 有效输出
3. 零幻觉 + 零解析错误 = 生产环境就绪

### ❌ 不推荐
**FunctionGemma-270M:**
- 即使微调，幻觉问题难以完全解决
- 枚举约束无效需要强制 GBNF
- 不如直接使用 Qwen3 + GBNF

## 下一步行动

1. ✅ **已完成:** 基线测试（Qwen3 & FunctionGemma）
2. ✅ **已完成:** 幻觉验证分析
3. ⏭️ **下一步:** 使用 Qwen3-0.6B 进行微调
4. ⏭️ **未来:** 实现 GBNF 语法约束
5. ⏭️ **未来:** GGUF 转换和 Android 集成

## 结论

**明确推荐: 使用 Qwen3-0.6B**

理由：
1. **安全性:** 零幻觉 vs 20% 幻觉率
2. **准确率:** 59% vs 35%（高 69%）
3. **可靠性:** 指令遵循能力强
4. **可扩展:** 微调潜力大
5. **成本:** 显存差异在 16GB 设备上可忽略

FunctionGemma-270M 虽小，但牺牲太多准确率和安全性，不适合此任务。
