# 模型对比总结

**最后更新:** 2026-01-08
**任务:** 4 类文件夹分类 + 3 级优先级分类

## 快速对比

| 模型 | 状态 | 文件夹准确率 | 优先级准确率 | 综合准确率 | 推荐 |
|------|------|------------|-------------|-----------|------|
| **Qwen3-0.6B (微调)** | 微调 | **94.0%** | **83.0%** | **78.2%** | ✅ **生产推荐** |
| FunctionGemma v2 (微调) | 微调 | 90.6% | 54.6% | 49.0% | ⚠️ 备选 |
| Qwen3-0.6B (基线) | 基线 | 59.0% | 17.0% | - | ❌ 需微调 |
| FunctionGemma (基线) | 基线 | 35.0% | 2.0% | - | ❌ 不推荐 |

## 微调模型对比 (3-Level Priority)

### 006: Qwen3-0.6B 微调 ✅ 推荐

| 指标 | 结果 |
|------|------|
| 文件夹准确率 | **94.0%** |
| 优先级准确率 | **83.0%** |
| 综合准确率 | **78.2%** |
| 解析失败率 | 0% |
| 训练时间 | ~81 分钟 |

**优先级细分:**
| 优先级 | 准确率 |
|--------|--------|
| 1 (Low) | 90.7% |
| 2 (Medium) | 66.4% |
| 3 (High) | 86.4% |

**优点:**
- ✓ 优先级准确率大幅提升 (+28.4% vs FunctionGemma)
- ✓ 解决了 Medium/High 混淆问题
- ✓ 零解析失败
- ✓ 简单 JSON 输出格式

### 005: FunctionGemma v2 微调 ⚠️ 备选

| 指标 | 结果 |
|------|------|
| 文件夹准确率 | 90.6% |
| 优先级准确率 | 54.6% |
| 综合准确率 | 49.0% |
| 训练时间 | ~2 小时 |

**优先级细分:**
| 优先级 | 准确率 |
|--------|--------|
| 1 (Low) | 79.4% |
| 2 (Medium) | 22.9% ⚠️ |
| 3 (High) | 35.9% ⚠️ |

**问题:**
- ✗ Medium/High 优先级严重混淆
- ✗ 模型过度预测 Priority 1
- ✗ 复杂的函数调用输出格式

## 微调提升对比

| 指标 | FunctionGemma v2 | Qwen3-0.6B | 提升 |
|------|-----------------|------------|------|
| 文件夹 | 90.6% | **94.0%** | +3.4% |
| 优先级 | 54.6% | **83.0%** | **+28.4%** |
| 综合 | 49.0% | **78.2%** | **+29.2%** |

### 优先级细分对比

| 优先级 | FunctionGemma v2 | Qwen3-0.6B | 提升 |
|--------|-----------------|------------|------|
| 1 (Low) | 79.4% | 90.7% | +11.3% |
| 2 (Medium) | 22.9% | **66.4%** | **+43.5%** |
| 3 (High) | 35.9% | **86.4%** | **+50.5%** |

## 关键发现

### 1. 模型规模重要
- Qwen3 (600M) vs FunctionGemma (270M)
- 更大模型能更好区分细微差异（Medium vs High）

### 2. 输出格式影响性能
- **Qwen3 JSON:** `{"folder": "Work", "priority": 3}` - 简单直接
- **FunctionGemma:** 复杂函数调用语法 - 增加学习难度

### 3. `/no_think` 关键
- Qwen3 默认开启思考模式
- `/no_think` 禁用思考，直接输出结果
- 减少 token 消耗，提高响应速度

## 推荐方案

### ✅ 生产环境
**Qwen3-0.6B 微调版本**
- 78.2% 综合准确率
- 解决 Medium/High 混淆
- 零解析失败

### ⏭️ 下一步优化
1. **Prompt Caching** - 缓存系统提示，减少推理时间（3s → 1s）
2. **GBNF 语法约束** - 强制输出有效 JSON
3. **持续微调** - 收集真实用户反馈数据

## 模型文件

| 模型 | 位置 |
|------|------|
| Qwen3-0.6B 微调 | `E:\projects\functiongemma-finetune\notif-3level\qwen3-finetuned` |
| FunctionGemma v2 | `E:\projects\notif\functiongemma-finetuned-notif-3level` |

## 基准测试索引

| 编号 | 名称 | 状态 |
|------|------|------|
| 001 | Qwen3-0.6B 基线 | ✅ 完成 |
| 002 | FunctionGemma-270M 基线 | ✅ 完成 |
| 003 | Android 推理优化计划 | ✅ 完成 |
| 004 | Android 推理优化结果 | ✅ 完成 |
| 005 | FunctionGemma v2 微调 (3-level) | ✅ 完成 |
| 006 | Qwen3-0.6B 微调 (3-level) | ✅ 完成 |
